{"version":3,"sources":["main.js"],"names":["$siteList","$","$last","find","simplify","url","console","log","replace","render","remove","hashMap","forEach","node","index","$li","logo","insertBefore","on","e","window","open","stopPropagation","splice","JSON","parse","localStorage","getItem","prompt","indexOf","push","toUpperCase","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":"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","file":"main.4c6b2dee.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $(\".siteList\");\r\nconst $last = $siteList.find(\".last\");\r\nconst simplify = (url) => {\r\n  console.log(url);\r\n  console.log(\r\n    url.replace(\"https://\", \"\").replace(\"http://\", \"\").replace(\"www://\", \"\")\r\n  );\r\n  return url\r\n    .replace(\"https://\", \"\")\r\n    .replace(\"http://\", \"\")\r\n    .replace(\"www://\", \"\")\r\n    .replace(/\\/.*/, \"\");\r\n};\r\nconst render = () => {\r\n  $siteList.find(\"li:not(.last)\").remove();\r\n  hashMap.forEach((node, index) => {\r\n    console.log(node);\r\n    const $li = $(\r\n      `\r\n            <li>\r\n              <div class=\"site\">\r\n                 <div class=\"logo\">${node.logo}</div>\r\n                 <div class=\"link\">${simplify(node.url)}</div>\r\n                 <div class=\"close\">\r\n                 <svg class=\"icon\" aria-hidden=\"true\">\r\n                 <use xlink:href=\"#icon-close\"></use>\r\n               </svg>\r\n                 </div>\r\n              </div>\r\n            </li>\r\n        `\r\n    ).insertBefore($last);\r\n    console.log(index);\r\n    $li.on(\"click\", (e) => {\r\n      window.open(node.url);\r\n    });\r\n    $li.on(\"click\", \".close\", (e) => {\r\n      e.stopPropagation();\r\n      console.log(index);\r\n      hashMap.splice(index, 1);\r\n      render();\r\n    });\r\n  });\r\n};\r\nconst hashMap = JSON.parse(localStorage.getItem(\"nav\")) || [\r\n  {\r\n    logo: \"B\",\r\n    url: \"https://bilibili.com\",\r\n  },\r\n  {\r\n    logo: \"I\",\r\n    url: \"https://iconfont.cn\",\r\n  },\r\n];\r\nrender();\r\n\r\n$(\".addButton\").on(\"click\", () => {\r\n  let url = window.prompt(\"请输入网址\");\r\n  if (url.indexOf(\"http\") !== 0) {\r\n    url = `https://` + url;\r\n  }\r\n  hashMap.push({\r\n    logo: simplify(url)[0].toUpperCase(),\r\n    url: url,\r\n  });\r\n  render();\r\n});\r\n\r\nwindow.onbeforeunload = () => {\r\n  const string = JSON.stringify(hashMap);\r\n  localStorage.setItem(\"nav\", string);\r\n};\r\n\r\n$(document).on(\"keypress\", (e) => {\r\n  // console.log(e);\r\n  const { key } = e;\r\n  console.log(key);\r\n  for (let i = 0; i < hashMap.length; i++) {\r\n    if (hashMap[i].logo.toLowerCase() === key) {\r\n      window.open(hashMap[i].url);\r\n    }\r\n  }\r\n});\r\n"]}